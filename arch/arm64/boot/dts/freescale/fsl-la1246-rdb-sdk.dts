// SPDX-License-Identifier: (GPL-2.0+ OR MIT)
/*
 * Device Tree file for Layerscape LS1046A based Aberdeen board
 *
 * Copyright 2020 NXP
 *
 */

#include "fsl-la1246-rdb.dts"
#include "qoriq-qman-portals-sdk.dtsi"
#include "qoriq-bman-portals-sdk.dtsi"

&bman_fbpr {
	compatible = "fsl,bman-fbpr";
	alloc-ranges = <0 0 0x10000 0>;
};
&qman_fqd {
	compatible = "fsl,qman-fqd";
	alloc-ranges = <0 0 0x10000 0>;
};
&qman_pfdr {
	compatible = "fsl,qman-pfdr";
	alloc-ranges = <0 0 0x10000 0>;
};

&soc {
/delete-property/ dma-coherent;
#include "qoriq-dpaa-eth.dtsi"
#include "qoriq-fman3-0-6oh.dtsi"

pcie@3400000 {
        /delete-property/ iommu-map;
       num-ib-windows = <6>;
       num-ob-windows = <6>;
       num-lanes = <4>;
       status = "okay";
};

pcie@3500000 {
        /delete-property/ iommu-map;
       num-ib-windows = <6>;
       num-ob-windows = <6>;
       num-lanes = <2>;
       status = "okay";
};

pcie@3600000 {
        /delete-property/ iommu-map;
       num-ib-windows = <6>;
       num-ob-windows = <6>;
       num-lanes = <2>;
       status = "okay";
};

/delete-node/ iommu@9000000;
};

&fsldpaa {
	ethernet@0 {
		status = "disabled";
	};
	ethernet@1 {
		status = "disabled";
	};
	ethernet@2 {
		status = "disabled";
	};
	ethernet@3 {
		status = "disabled";
	};
	ethernet@4 {
		status = "disabled";
	};
	ethernet@5 {
		status = "disabled";
	};
	ethernet@6 {
		status = "disabled";
	};
	ethernet@7 {
		status = "disabled";
	};
	ethernet@8 {
		compatible = "fsl,dpa-ethernet";
		fsl,fman-mac = <&enet6>;
		dma-coherent;
	};
	ethernet@9 {
		compatible = "fsl,dpa-ethernet";
		fsl,fman-mac = <&enet7>;
		dma-coherent;
	};
};

&fman0 {
	compatible = "fsl,fman", "simple-bus";
};
